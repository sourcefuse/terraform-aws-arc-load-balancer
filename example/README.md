# terraform-aws-module-template example

<!-- BEGINNING OF PRE-COMMIT-TERRAFORM DOCS HOOK -->
## Requirements

| Name | Version |
|------|---------|
| <a name="requirement_terraform"></a> [terraform](#requirement\_terraform) | >= 1.5.0 |
| <a name="requirement_aws"></a> [aws](#requirement\_aws) | ~> 5.0 |

## Providers

No providers.

## Modules

| Name | Source | Version |
|------|--------|---------|
| <a name="module_alb"></a> [alb](#module\_alb) | ../ | n/a |
| <a name="module_tags"></a> [tags](#module\_tags) | sourcefuse/arc-tags/aws | 1.2.6 |

## Resources

No resources.

## Inputs

| Name | Description | Type | Default | Required |
|------|-------------|------|---------|:--------:|
| <a name="input_alb_listener"></a> [alb\_listener](#input\_alb\_listener) | n/a | <pre>object({<br>    port                     = optional(number, 80)<br>    protocol                 = optional(string, "HTTP")<br>    alpn_policy              = optional(string, null)<br>    certificate_arn          = optional(string, "")<br>    ssl_policy               = optional(string, "")<br>    tcp_idle_timeout_seconds = optional(number, 350)<br>  })</pre> | n/a | yes |
| <a name="input_default_action"></a> [default\_action](#input\_default\_action) | A list of default actions for the load balancer listener | <pre>list(object({<br>    type = string<br>    authenticate_oidc = optional(object({<br>      authorization_endpoint              = string<br>      authentication_request_extra_params = map(string)<br>      client_id                           = string<br>      client_secret                       = string<br>      issuer                              = string<br>      token_endpoint                      = string<br>      user_info_endpoint                  = string<br>      on_unauthenticated_request          = string<br>      scope                               = string<br>      session_cookie_name                 = string<br>      session_timeout                     = string<br>    }))<br>    authenticate_cognito = optional(object({<br>      user_pool_arn                       = string<br>      user_pool_client_id                 = string<br>      user_pool_domain                    = string<br>      authentication_request_extra_params = map(string)<br>      on_unauthenticated_request          = string<br>      scope                               = string<br>      session_cookie_name                 = string<br>      session_timeout                     = string<br>    }))<br>    fixed_response = optional(object({<br>      status_code  = string<br>      content_type = string<br>      message_body = string<br>    }))<br>    forward = optional(object({<br>      target_group = list(object({<br>        arn = string<br>      }))<br>      stickiness = optional(object({<br>        duration = number<br>        enabled  = bool<br>      }))<br>    }))<br>    redirect = optional(object({<br>      host        = string<br>      path        = string<br>      query       = string<br>      protocol    = string<br>      port        = string<br>      status_code = string<br>    }))<br>  }))</pre> | `[]` | no |
| <a name="input_listener_rules"></a> [listener\_rules](#input\_listener\_rules) | A map of listener rules | <pre>map(object({<br>    priority = number<br>    authenticate_oidc = optional(object({<br>      authorization_endpoint              = string<br>      client_id                           = string<br>      client_secret                       = string<br>      issuer                              = string<br>      token_endpoint                      = string<br>      user_info_endpoint                  = string<br>      authentication_request_extra_params = map(string)<br>      on_unauthenticated_request          = string<br>      scope                               = string<br>      session_cookie_name                 = string<br>      session_timeout                     = number<br>    }))<br>    actions = list(object({<br>      type  = string<br>      order = number<br>      redirect = optional(object({<br>        host        = string<br>        path        = string<br>        query       = string<br>        protocol    = string<br>        port        = number<br>        status_code = string<br>      }))<br>      fixed_response = optional(object({<br>        status_code  = string<br>        content_type = string<br>        message_body = string<br>      }))<br>      authenticate_cognito = optional(object({<br>        user_pool_arn              = string<br>        user_pool_client_id        = string<br>        user_pool_domain           = string<br>        on_unauthenticated_request = string<br>      }))<br>    }))<br>    conditions = list(object({<br>      host_header = optional(object({<br>        values = list(string)<br>      }))<br>      path_pattern = optional(object({<br>        values = list(string)<br>      }))<br>    }))<br>  }))</pre> | n/a | yes |
| <a name="input_load_balancer_config"></a> [load\_balancer\_config](#input\_load\_balancer\_config) | n/a | <pre>object({<br>    name                                                         = optional(string, null)<br>    name_prefix                                                  = optional(string, null)<br>    type                                                         = optional(string, "application")<br>    internal                                                     = optional(bool, false)<br>    ip_address_type                                              = optional(string, "ipv4")<br>    enable_deletion_protection                                   = optional(bool, true)<br>    enable_cross_zone_load_balancing                             = optional(bool, true)<br>    enable_http2                                                 = optional(bool, true)<br>    enable_waf_fail_open                                         = optional(bool, false)<br>    enable_xff_client_port                                       = optional(bool, true)<br>    enable_zonal_shift                                           = optional(bool, true)<br>    desync_mitigation_mode                                       = optional(string, "defensive")<br>    drop_invalid_header_fields                                   = optional(bool, false)<br>    enforce_security_group_inbound_rules_on_private_link_traffic = optional(string, "off")<br>    idle_timeout                                                 = optional(number, 60)<br>    preserve_host_header                                         = optional(bool, true)<br>    xff_header_processing_mode                                   = optional(string, "append")<br>    customer_owned_ipv4_pool                                     = optional(string, null)<br>    dns_record_client_routing_policy                             = optional(string, "any_availability_zone")<br>    client_keep_alive                                            = optional(number, 60)<br>    enable_tls_version_and_cipher_suite_headers                  = optional(bool, true)<br>    subnet_mapping = optional(list(object({<br>      subnet_id            = string<br>      allocation_id        = optional(string, null)<br>      ipv6_address         = optional(string, null)<br>      private_ipv4_address = optional(string, null)<br>    })))<br>    access_logs = optional(object({<br>      enabled = optional(bool, false)<br>      bucket  = string<br>      prefix  = optional(string, "access-logs")<br>    }))<br>    connection_logs = optional(object({<br>      enabled = optional(bool, false)<br>      bucket  = string<br>      prefix  = optional(string, "connection-logs")<br>    }))<br>  })</pre> | n/a | yes |
| <a name="input_region"></a> [region](#input\_region) | AWS region | `string` | `"us-east-1"` | no |
| <a name="input_security_group_data"></a> [security\_group\_data](#input\_security\_group\_data) | n/a | <pre>object({<br>    security_group_ids_to_attach = optional(list(string), []),<br>    create                       = optional(bool, true),<br>    description                  = optional(string, null),<br>    ingress_rules = optional(list(object({<br>      description              = optional(string, null)<br>      cidr_block               = optional(string, null)<br>      source_security_group_id = optional(string, null)<br>      from_port                = number<br>      ip_protocol              = string<br>      to_port                  = string<br>      self                     = optional(bool, false)<br>    })), []),<br>    egress_rules = optional(list(object({<br>      description                   = optional(string, null)<br>      cidr_block                    = optional(string, null)<br>      destination_security_group_id = optional(string, null)<br>      from_port                     = number<br>      ip_protocol                   = string<br>      to_port                       = string<br>      prefix_list_id                = optional(string, null)<br>    })), [])<br>  })</pre> | <pre>{<br>  "create": false<br>}</pre> | no |
| <a name="input_security_group_name"></a> [security\_group\_name](#input\_security\_group\_name) | The name of the security group | `string` | n/a | yes |
| <a name="input_target_group_config"></a> [target\_group\_config](#input\_target\_group\_config) | n/a | <pre>object({<br>    name                              = optional(string)<br>    name_prefix                       = optional(string)<br>    port                              = optional(number)<br>    protocol                          = optional(string)<br>    vpc_id                            = optional(string)<br>    ip_address_type                   = optional(string)<br>    load_balancing_anomaly_mitigation = optional(bool)<br>    load_balancing_cross_zone_enabled = optional(bool)<br>    preserve_client_ip                = optional(bool)<br>    protocol_version                  = optional(string)<br>    load_balancing_algorithm_type     = optional(string)<br>    target_type                       = optional(string)<br>    proxy_protocol_v2                 = optional(bool)<br>    slow_start                        = optional(number)<br><br>    health_check = optional(object({<br>      enabled             = bool<br>      interval            = number<br>      path                = string<br>      port                = number<br>      protocol            = string<br>      timeout             = number<br>      unhealthy_threshold = number<br>      healthy_threshold   = number<br>      matcher             = string<br>    }))<br><br>    stickiness = optional(object({<br>      type            = string<br>      cookie_duration = number<br>      cookie_name     = optional(string)<br>      enabled         = bool<br>    }))<br>  })</pre> | `null` | no |
| <a name="input_vpc_id"></a> [vpc\_id](#input\_vpc\_id) | The VPC ID for the resources | `string` | n/a | yes |

## Outputs

No outputs.
<!-- END OF PRE-COMMIT-TERRAFORM DOCS HOOK -->
